<html>
  <head>
  <meta charset="utf-8">

  <script src="https://www.gstatic.com/firebasejs/4.13.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/4.13.0/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/4.13.0/firebase-database.js"></script>


<script src="https://www.gstatic.com/firebasejs/4.13.0/firebase.js"></script>
<script>
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyATa6EO1PVnFD5lt0F7JejqcHQx59qSyE8",
    authDomain: "my-game-dcf3d.firebaseapp.com",
    databaseURL: "https://my-game-dcf3d.firebaseio.com",
    projectId: "my-game-dcf3d",
    storageBucket: "my-game-dcf3d.appspot.com",
    messagingSenderId: "845490545439"
  };
  firebase.initializeApp(config);
</script>
   <script src="lib/easel.js"></script>
   <script src="lib/ndgmr.Collision.js"></script>
   <script src="lib/soundjs.js"></script>
   <script src="https://code.createjs.com/easeljs-0.8.2.min.js"></script>
   <script type="text/javascript" src="lib/tweenjs-NEXT.js"></script>
  <script src="socket.io.js"></script>
    <link rel="stylesheet" type="text/css" href="style1.css">
    <link rel="stylesheet" type="text/css" href="style2.css"/>
   <link rel="stylesheet" type="text/css" href="style3.css"/>
   <link rel="stylesheet" type="text/css" href="style1.css">
   <link rel="stylesheet" type="text/css" href="style.css">
   
   <link rel="stylesheet" type="text/css" href="style5.css">

   </head>
  <body onload="init();">
  
    <canvas id="canvas" width="1600" height="900"></canvas>
	 <div> 
  <input id="angle2" type="number" name="" value="60">
  
 <input id = "power2" type="number" name="" value="60">
    
</div>

	 <div id="mayank-chat">
  <center>  <h4 >ChatBox</h4></center>
  <hr/>
            <div id="chat-window"">

                <div id="output"></div>

                <div id="feedback"></div>

            </div>
  <hr/>
            <input id="handle" type="text" placeholder="Handle"/>

            <input id="message" type="message" placeholder="Message"/>

            <button class=" send" id="send">Send</button>

        </div>

  <button id="chat">Chat</button>
  <button class ="chaff" id="chatoff">Chatoff</button>


<script src="chating.js"></script>

  </body>
    <script>
	var exp_spr,collide1,collide2;
	var robo_spr,robo_spr2,car;
  var expl_spr,bombtj;
	var b1_spr,b2_spr,b3_spr,b4_spr,b5_spr,b6_spr,b7_spr,b8_spr,b9_spr;
	var stage;
var Robo,bitmapacid,bitmapgas,bitmapNE,bitmapnuke;
	var rect1;
	var robt;
	var roboPos2=[];
	var finput1=[];
	var input2 = [];
	var turn=0;
	var vel2;
var r1b=[];
	var r2b=[];
	var vi;
	var ani;
	var armour1=40;
	var armour2=40;
	var health1=100;
	var health2=100;
	var ar1,ar2,ht1,ht2,healthb1,healthb2,armourb1,armourb2;
	var ang2;
	var phato=0;
	var KEYCODE_W = 87,
		KEYCODE_A = 65,
		KEYCODE_S = 83,
		KEYCODE_SPACE = 32,
    KEYCODE_F = 70,
	 KEYCODE_J = 74,
		KEYCODE_D = 68;
function init() {

	 stage = new createjs.Stage("canvas");
stage.enableMouseOver(10);
	 B_2= new Image();
	B_2.src = "Game/Buildings/B_2.png"
	B_3= new Image();
	B_3.src = "Game/Buildings/B_3.png"
	B_4= new Image();
	B_4.src = "Game/Buildings/B_4.png"
	B_5= new Image();
	B_5.src = "Game/Buildings/5th.png"
	B_6= new Image();
	B_6.src = "Game/Buildings/6th.png"
	B_7= new Image();
	B_7.src = "Game/Buildings/B_7.png"
	B_8= new Image();
	B_8.src = "Game/Buildings/8th.png"
	B_9= new Image();
	B_9.src = "Game/Buildings/B_9.png"
	fire= new Image();
	fire.src = "Game/Buttons/fire.png"
	BNUKE= new Image();
	BNUKE.src = "Game/Buttons/NUKE.png"
	BACID= new Image();
	BACID.src = "Game/Buttons/ACID.png"
   Bomb= new Image();
	Bomb.src = "Game/Tools/Bomb.png";
	Acid= new Image();
	Acid.src = "Game/Tools/acid.png";
	Nuke= new Image();
	Nuke.src = "Game/Tools/nuke.png";
	Gas= new Image();
	Gas.src = "Game/Tools/gas.png";
		NE= new Image();
	NE.src = "Game/Tools/explosion.png";
		//stage.enableMouseOver(10);
	Robo= new Image();
	Robo.src = "Game/Robot/Robo.png";
	Robo.onload=load;
	Robo2= new Image();
	Robo2.src = "Game/Robot/Robo2.png";
	exp = new Image();
	exp.src = "Game/Robot/exp2_0.png"
	B_1= new Image();
	B_1.src = "Game/Buildings/1st_B.png"
  expl= new Image();
  expl.src = "Game/Buildings/b_exp.png"
  fire= new Image();
	fire.src = "Game/Buttons/fire.png"
		power= new Image();
	power.src = "Game/Buttons/power.png"
		angle= new Image();
	angle.src = "Game/Buttons/angle.png"
		jump= new Image();
	jump.src = "Game/Buttons/jump.png"
		forward= new Image();
	forward.src = "Game/Buttons/forward.png"
		back= new Image();
	back.src = "Game/Buttons/back.png"
	
   // createjs.Ticker.setFPS(20); 
	createjs.Ticker.on("tick", tick);
	}
function load(event)
{
createjs.MotionGuidePlugin.install();
car = new createjs.Shape();
car.graphics.beginFill("blue").drawEllipse(390,390,25,15);
 var rect = new createjs.Shape();
rect.graphics.beginFill("DiamondBlack").drawRect(0,0,canvas.width,canvas.height);
	 rect3 = new createjs.Shape();
	 rect3.graphics.beginFill("Gray").drawRect(0,800,canvas.width,canvas.height);
	 rect1 = new createjs.Shape();
rect1.graphics.beginFill("Red").drawRect(1000,350,10,10);
	stage.addChild(rect,rect3,rect1,car);
	//ButtonAcid-----------------------------------------
	var BacidSprite = new createjs.SpriteSheet({
													   images: [BACID],
													   frames: {width: 194, height: 77},
													   animations: { idle: 0, pressed: 1 }
												   });
	var bitmapBacid = new createjs.Sprite(BacidSprite,"idle");
	bitmapBacid.x=440;
	bitmapBacid.y=800;
	var anime88 = new createjs.ButtonHelper(bitmapBacid,"idle","idle","pressed");
	bitmapBacid.addEventListener("click",clickAc);
	//ButtonNuke-----------------------------------------
	var BnukeSprite = new createjs.SpriteSheet({
													   images: [BNUKE],
													   frames: {width: 194, height: 81},
													   animations: { idle: 0, pressed: 1 }
												   });
	var bitmapBnuke = new createjs.Sprite(BnukeSprite,"idle");
	bitmapBnuke.x=880;
	bitmapBnuke.y=800;
	var anime89 = new createjs.ButtonHelper(bitmapBnuke,"idle","idle","pressed");
	bitmapBnuke.addEventListener("click",clickNu);
	//Gas------------------------------------------------
		var gasSprite = new createjs.SpriteSheet({
													   images: [Gas],
													   frames: {width: 123, height: 73},
													   animations: { exp:[0,9,false,1] }
												   });
	bitmapgas = new createjs.Sprite(gasSprite,"");
	//Acid-----------------------------------------------
	var acidSprite = new createjs.SpriteSheet({
													   images: [Acid],
													   frames: {width: 47, height: 28},
													   animations: { fly:0 }
												   });
	bitmapacid = new createjs.Sprite(acidSprite);
	//Nuke-----------------------------------------------
	var NukeSprite = new createjs.SpriteSheet({
													   images: [Nuke],
													   frames: {width: 30, height: 26,count:7},
													   animations: { ini:[0,2,"fly",0.6], fly: [1,7,"fly",0.9] }
												   });
	createjs.SpriteSheetUtils.addFlippedFrames(NukeSprite,true,false,false);
	bitmapnuke = new createjs.Sprite(NukeSprite);
	//NukeExp--------------------------------------------
	var NESprite = new createjs.SpriteSheet({
													   images: [NE],
													   frames: {width: 96, height: 96},
													   animations: { exp:[0,15,false,0.8] }
												   });
	bitmapNE = new createjs.Sprite(NESprite);//Fire-----------------------------------------------
	var fireSprite = new createjs.SpriteSheet({
													   images: [fire],
													   frames: {width: 200, height: 100},
													   animations: { idle: 0, pressed: 1 }
												   });
	var bitmapfire = new createjs.Sprite(fireSprite,"idle");
	bitmapfire.x=680;
	bitmapfire.y=800;
	var anime = new createjs.ButtonHelper(bitmapfire,"idle","idle","pressed");
	bitmapfire.addEventListener("click",clickf);
	//Power-----------------------------------------------
	var powerSprite = new createjs.SpriteSheet({
													   images: [power],
													   frames: {width: 200, height: 89},
													   animations: { idle: 0, hover: 0, pressed: 0 }
												   });
	var bitmapPower = new createjs.Sprite(powerSprite,"idle");
	bitmapPower.x=200;
	bitmapPower.y=800;
	var anime4 = new createjs.ButtonHelper(bitmapPower,"idle","hover","pressed");
	//Angle------------------------------------------------
	var AngleSprite = new createjs.SpriteSheet({
													   images: [angle],
													   frames: {width: 200, height: 89},
													   animations: { idle: 0, hover: 0, pressed: 0 }
												   });
	var bitmapAngle = new createjs.Sprite(AngleSprite,"idle");
	bitmapAngle.x=0;
	bitmapAngle.y=800;
	var anime4 = new createjs.ButtonHelper(bitmapAngle,"idle","hover","pressed");
	//Power-------------------------------------------------
	var JumpSprite = new createjs.SpriteSheet({
													   images: [jump],
													   frames: {width: 154, height: 89},
													   animations: { idle: 0, hover: 0, pressed: 1 }
												   });
	var bitmapJump = new createjs.Sprite(JumpSprite,"idle");
	bitmapJump.x=1100;
	bitmapJump.y=800;
	var anime4 = new createjs.ButtonHelper(bitmapJump,"idle","hover","pressed");
	bitmapJump.addEventListener("click",clickj);
	var ForwardSprite = new createjs.SpriteSheet({
													   images: [forward],
													   frames: {width: 73, height: 89},
													   animations: { idle: 0, hover: 0, pressed: 1 }
												   });
	var bitmapforward = new createjs.Sprite(ForwardSprite,"idle");
	bitmapforward.x=1400;
	bitmapforward.y=800;
	var anime4 = new createjs.ButtonHelper(bitmapforward,"idle","hover","pressed");
	bitmapforward.addEventListener("click",clickfor);
	var BackSprite = new createjs.SpriteSheet({
													   images: [back],
													   frames: {width: 73, height: 89},
													   animations: { idle: 0, hover: 0, pressed: 1 }
												   });
	var bitmapback = new createjs.Sprite(BackSprite,"idle");
	bitmapback.x=1300;
	bitmapback.y=800;
	var anime4 = new createjs.ButtonHelper(bitmapback,"idle","hover","pressed");
	bitmapback.addEventListener("click",clickb);
	//Robot movement-------------------------------------
	var spriteSheet1 = new createjs.SpriteSheet({
													   images: [Robo],
													   frames: {width: 90, height: 83},
													   animations: { idle: [0,9,"idle",0.5], jump_up: [10,15,"jump_down",0.5], jump_down: [16,18,"jump_down",0.4] ,run: [21,28,"run",0.4] ,shootup: [29,32,false,0.01],shootdown: [33,35,false,1],
													   back: [10,20,"back",0.3], dead:[36,43,false,0.8]}
											});
	var spriteSheetp2 = new createjs.SpriteSheet({
													   images: [Robo2],
													   frames: {width: 90, height: 83},
													   animations: { idle: [34,43,"idle",0.5], jump_up: {frames:[33,32,31,30,29,28],next:"jump_down",speed:0.5}, jump_down:{frames:[27,26,25],next:"jump_down",speed:0.4},run:{frames:[22,21,20,19,18,17,16,15],next:"run",speed:0.4},shootup: [8,11,false,0.2],shootdown: [12,14,false,1],
													   back: {frames:[33,32,31,30,29,28,27,26,25,24,23],next:"back",speed:0.3}, dead: {frames:[7,6,5,4,3,2,1,0],next:false,speed:0.8}}
											});
    //END_________________________________________________________________
var spriteSheetB = new createjs.SpriteSheet({
												images: [Bomb],
												frames: {width: 30,height: 30,},
												animations: {burn:[0,1,"burn",0.2], explode:[2,11,false,1]}


												});
	var spriteSheet2 = new createjs.SpriteSheet({
												images: [exp],
												frames: {width: 64,height: 64,count: 16},
												animations: {explode:[0,15,false,0.7]}


												});
 var spriteSheetExp = new createjs.SpriteSheet({
                      												images: [expl],
                      												frames: {width: 174,height: 130},
                      												animations: {explode:[0,7,false,0.7]}


                      												});
	var spriteSheet3 = new createjs.SpriteSheet({
												images: [B_1],
												frames: [[0,0,155,558,0],[0,558,155,364,0],[0,922,155,245,0],[0,1167,155,176,0],[0,1343,155,123,0],[0,1466,155,64,0]],
												animations: {break1:[0],
															break2:[1],
																break3: [2],
																break4: [3],
																break5: [4],
																break6: [5],
																break7: [6]}


												});
	var spriteSheet4 = new createjs.SpriteSheet({
												images: [B_2],
												frames: [[0,0,172,480,0],[0,480,172,348,0],[0,828,172,277,0],[0,1105,172,196,0],[0,1301,172,116,0],[0,1417,172,61,0]],
												animations: {break1:[0],
															break2:[1],
																break3: [2],
																break4: [3],
																break5: [4],
																break6: [5],
																break7: [6]}


												});


	var spriteSheet5 = new createjs.SpriteSheet({
												images: [B_3],
												frames: [[0,0,117,231,0],[0,231,117,205,0],[0,436,117,164,0],[0,600,117,131,0],[0,731,117,98,0],[0,829,117,58,0]],
												animations: {break1:[0],
															break2:[1],
																break3: [2],
																break4: [3],
																break5: [4],
																break6: [5],
																break7: [6]
														}


												});



	var spriteSheet6 = new createjs.SpriteSheet({
												images: [B_4],
												frames: [[0,0,165,344,0],[0,344,165,281,0],[0,625,165,235,0],[0,860,165,206,0],[0,1066,165,172,0],[0,1238,165,88,0]],
												animations: {break1:[0],
															break2:[1],
																break3: [2],
																break4: [3],
																break5: [4],
																break6: [5],
																break7: [6]}


												});

var spriteSheet7 = new createjs.SpriteSheet({
												images: [B_5],
												frames: [[0,0,112,221,0],[0,221,112,190,0],[0,411,112,144,0],[0,555,112,132,0],[0,687,112,93,0],[0,780,112,56,0]],
												animations: {break1:[0],
															break2:[1],
																break3: [2],
																break4: [3],
																break5: [4],
																break6: [5],
																break7: [6]}


												});

var spriteSheet8 = new createjs.SpriteSheet({
												images: [B_6],
												frames: [[0,0,112,249,0],[0,446,112,233,0],[0,249,112,197,0],[0,679,112,155,0],[0,834,112,82,0],[0,916,112,82,0]],
												animations: {break1:[0],
															break2:[1],
																break3: [2],
																break4: [3],
																break5: [4],
																break6: [6],
															}


												});

var spriteSheet9 = new createjs.SpriteSheet({
												images: [B_7],
												frames: [[0,0,100,321,0],[0,321,100,212,0],[0,533,100,154,0],[0,687,100,111,0],[0,798,100,75,0],[0,873,100,44,0]],
												animations: {break1:[0],
															break2:[1],
																break3: [2],
																break4: [3],
																break5: [4],
																break6: [5],
																break7: [6]}


												});

var spriteSheet10 = new createjs.SpriteSheet({
												images: [B_8],
												frames: [[0,0,100,213,0],[0,213,100,183,0],[0,396,100,155,0],[0,551,100,114,0],[0,665,100,84,0],[0,749,100,37,0]],
												animations: {break1:[0],
															break2:[1],
																break3: [2],
																break4: [3],
																break5: [4],
																break6: [5],
																break7: [6]}


												});

var spriteSheet11 = new createjs.SpriteSheet({
												images: [B_9],
												frames: [[0,0,73,284,0],[0,284,73,213,0],[0,497,73,177,0],[0,674,73,140,0],[0,814,73,111,0],[0,925,73,72,0]],
												animations: {break1:[0],
															break2:[1],
																break3: [2],
																break4: [3],
																break5: [4],
																break6: [5],
																break7: [6]}


												});
exp_bomb = new createjs.Sprite(spriteSheetB,"burn");
	exp_spr = new createjs.Sprite(spriteSheet2,"explode");
	robo_spr = new createjs.Sprite(spriteSheet1,"idle");
	robo_spr2 = new createjs.Sprite(spriteSheetp2,"idle");
 expl_spr = new createjs.Sprite(spriteSheetExp,"explode");
	b1_spr = new createjs.Sprite(spriteSheet3,"break1");
	b2_spr = new createjs.Sprite(spriteSheet4,"break1");
	b3_spr = new createjs.Sprite(spriteSheet5,"break1");
	b4_spr = new createjs.Sprite(spriteSheet6,"break1");
	b5_spr = new createjs.Sprite(spriteSheet7,"break1");
	b6_spr = new createjs.Sprite(spriteSheet8,"break1");
	b7_spr = new createjs.Sprite(spriteSheet9,"break1");
	b8_spr = new createjs.Sprite(spriteSheet10,"break1");
	b9_spr = new createjs.Sprite(spriteSheet11,"break1");
	robo_spr.x=Math.floor((Math.random() * 150) + 1);
	robo_spr2.x=1450-Math.floor((Math.random() * 150) + 1);
	b1_spr.x=Math.floor((Math.random() * 1200) + 100);
	b1_spr.y=243;
	b2_spr.y=320;
    b3_spr.y=570;
    b4_spr.y=456;
    b5_spr.y=580;
    b6_spr.y=553;
	b7_spr.y=480;
	b8_spr.y=588;
	b9_spr.y=516;
 	 //array which goes to datbase   
 firebase.database().ref("xPoints").on('value', function(data) {
  	var xData = [];

 	xData=data.val();

//  // window.alert(xData);
b1_spr.x=xData[0];
b2_spr.x=xData[1];
b3_spr.x=xData[2];
b4_spr.x=xData[3];
b5_spr.x=xData[4];
b6_spr.x=xData[5];
b7_spr.x=xData[6];
b9_spr.x=xData[8];
b8_spr.x=xData[7];

  
});
//   b2_spr.x=Math.floor((Math.random() * 1200) + 100);
// b3_spr.x=Math.floor((Math.random() * 1200) + 100);
// b4_spr.x=Math.floor((Math.random() * 1200) + 100);
// b5_spr.x=Math.floor((Math.random() * 1200) + 100);
// b6_spr.x=Math.floor((Math.random() * 1200) + 100);
// b7_spr.x=Math.floor((Math.random() * 1200) + 100);
// 	b9_spr.x=Math.floor((Math.random() * 1000) + 1);
//    b8_spr.x=Math.floor((Math.random() * 1000) + 1);
//    while( (b2_spr.x > b1_spr.x-172 && b2_spr.x < b1_spr.x+155)
//     || ((b3_spr.x > b1_spr.x-117 && b3_spr.x < b1_spr.x + 155)
//     || (b3_spr.x > b2_spr.x-117 && b3_spr.x < b2_spr.x + 172))
//     ||( b4_spr.x > b1_spr.x-165 && b4_spr.x < b1_spr.x + 155
//     || ((b4_spr.x > b2_spr.x-165 && b4_spr.x < b2_spr.x + 172)
//     || (b4_spr.x > b3_spr.x-165 && b4_spr.x < b3_spr.x + 117)) )
//     ||( b5_spr.x > b1_spr.x-112 && b5_spr.x < b1_spr.x + 155
//     || ((b5_spr.x > b2_spr.x-112 && b5_spr.x < b2_spr.x + 172)
//     || (b5_spr.x > b3_spr.x-112 && b5_spr.x < b3_spr.x + 117)
//     ||(b5_spr.x > b4_spr.x-112 && b5_spr.x < b4_spr.x + 165)))
//     ||( b6_spr.x > b1_spr.x-112 && b6_spr.x < b1_spr.x + 155
//     || (b6_spr.x > b2_spr.x-112 && b6_spr.x < b2_spr.x + 172)
//     || (b6_spr.x > b3_spr.x-112 && b6_spr.x < b3_spr.x + 117)
//     ||(b6_spr.x > b4_spr.x-112 && b6_spr.x < b4_spr.x + 165)
//     ||(b6_spr.x > b5_spr.x-112 && b6_spr.x < b5_spr.x + 112) )
// 	||(  b7_spr.x > b1_spr.x-100 && b7_spr.x < b1_spr.x + 155
//     || (b7_spr.x > b2_spr.x-100 && b7_spr.x < b2_spr.x + 172)
//     || (b7_spr.x > b3_spr.x-100 && b7_spr.x < b3_spr.x + 117)
//     ||(b7_spr.x > b4_spr.x-100 && b7_spr.x < b4_spr.x + 165)
//     ||(b7_spr.x > b5_spr.x-100 && b7_spr.x < b5_spr.x + 112)
//     ||(b7_spr.x > b6_spr.x-100 && b7_spr.x < b6_spr.x + 112))
//     ||(  b8_spr.x > b1_spr.x-100 && b8_spr.x < b1_spr.x + 155
//     || (b8_spr.x > b2_spr.x-100 && b8_spr.x < b2_spr.x + 172)
//     || (b8_spr.x > b3_spr.x-100 && b8_spr.x < b3_spr.x + 117)
//     ||(b8_spr.x > b4_spr.x-100 && b8_spr.x < b4_spr.x + 165)
//     ||(b8_spr.x > b5_spr.x-100 && b8_spr.x < b5_spr.x + 112)
//     ||(b8_spr.x > b6_spr.x-100 && b8_spr.x < b6_spr.x + 112)
//     ||(b8_spr.x > b7_spr.x-100 && b8_spr.x < b7_spr.x + 100))
//     ||(  b9_spr.x > b1_spr.x-73 && b9_spr.x < b1_spr.x + 155
//     || (b9_spr.x > b2_spr.x-73 && b9_spr.x < b2_spr.x + 172)
//     || (b9_spr.x > b3_spr.x-73 && b9_spr.x < b3_spr.x + 117)
//     ||(b9_spr.x > b4_spr.x-73 && b9_spr.x < b4_spr.x + 165)
//     ||(b9_spr.x > b5_spr.x-73 && b9_spr.x < b5_spr.x + 112)
//     ||(b9_spr.x > b6_spr.x-73 && b9_spr.x < b6_spr.x + 112)
//     ||(b9_spr.x > b7_spr.x-73 && b9_spr.x < b7_spr.x + 100)
//     ||(b9_spr.x > b8_spr.x-73 && b9_spr.x < b8_spr.x +100)))
// 	{
//     b2_spr.x=Math.floor((Math.random() * 1200) + 100);
// 	b3_spr.x=Math.floor((Math.random() * 1200) + 100);
// 	b4_spr.x=Math.floor((Math.random() * 1200) + 100);
// 	b5_spr.x=Math.floor((Math.random() * 1200) + 100);
// 	b6_spr.x=Math.floor((Math.random() * 1200) + 100);
// 	b7_spr.x=Math.floor((Math.random() * 1200) + 100);
// 	b8_spr.x=Math.floor((Math.random() * 1200) + 100);
// 	b9_spr.x=Math.floor((Math.random() * 1200) + 100);
// 	}
	// if((b1_spr.x<robo_spr.x+90)&&(robo_spr.x<b1_spr.x+155))
	// {robo_spr.x=b1_spr.x+70;
	// robo_spr.y=b1_spr.y+80;}
	// else if((b2_spr.x<robo_spr.x+90)&&(robo_spr.x<b2_spr.x+175))
	// {robo_spr.x=b2_spr.x+45;
	// robo_spr.y=b2_spr.y-14;}
	// else if((b3_spr.x<robo_spr.x+90)&&(robo_spr.x<b3_spr.x+117))
	// {robo_spr.x=b3_spr.x;
	// robo_spr.y=b3_spr.y-70;}
	// else if((b4_spr.x<robo_spr.x+90)&&(robo_spr.x<b4_spr.x+165))
	// {robo_spr.x =b4_spr.x+29;
	// robo_spr.y=b4_spr.y-70;}
	// else if((b5_spr.x<robo_spr.x+50)&&(robo_spr.x<b5_spr.x+112))
	// {
	// robo_spr.y=b5_spr.y-78;}
	// else if((b6_spr.x<robo_spr.x+90)&&(robo_spr.x<b6_spr.x+112))
	// {robo_spr.x=b6_spr.x;
	// robo_spr.y=b6_spr.y-78;}
	// else if((b7_spr.x<robo_spr.x+90)&&(robo_spr.x<b7_spr.x+100))
	// {robo_spr.x=b7_spr.x+14;
	// robo_spr.y=b7_spr.y;}
	// else if((b8_spr.x<robo_spr.x+90)&&(robo_spr.x<b8_spr.x+100))
	// {robo_spr.x=b8_spr.x+2;
	// robo_spr.y=b8_spr.y-70;}
	// else if((b9_spr.x<robo_spr.x+50)&&(robo_spr.x<b9_spr.x+73))
	// {robo_spr.x=x+10;
	// robo_spr.y=b9_spr.y-40;}
	// else
	// {robo_spr.y=718;}
	// if((b1_spr.x<robo_spr2.x)&&(robo_spr2.x<b1_spr.x+155))
	// {robo_spr2.x=b1_spr.x+10;
	// robo_spr2.y=b1_spr.y+80;}
	// else if((b2_spr.x<robo_spr2.x)&&(robo_spr2.x<b2_spr.x+180))
	// {robo_spr2.x=b2_spr.x;
	// robo_spr2.y=b2_spr.y-14;}
	// else if((b3_spr.x<robo_spr2.x)&&(robo_spr2.x<b3_spr.x+117))
	// {robo_spr2.x=b3_spr.x+10;
	// robo_spr2.y=b3_spr.y-70;}
	// else if((b4_spr.x<robo_spr2.x)&&(robo_spr2.x<b4_spr.x+165))
	// {robo_spr2.x =b4_spr.x+29;
	// robo_spr2.y=b4_spr.y-70;}
	// else if((b5_spr.x<robo_spr2.x+7)&&(robo_spr2.x<b5_spr.x+112))
	// {robo_spr2.x=b5_spr.x+10;
	// robo_spr2.y=b5_spr.y-78;}
	// else if((b6_spr.x<robo_spr2.x)&&(robo_spr2.x<b6_spr.x+142))
	// {robo_spr2.x=b6_spr.x;
	// robo_spr2.y=b6_spr.y-78;}
	// else if((b7_spr.x<robo_spr2.x)&&(robo_spr2.x<b7_spr.x+120))
	// {robo_spr2.x=b7_spr.x;
	// robo_spr2.y=b7_spr.y;}
	// else if((b8_spr.x<robo_spr2.x)&&(robo_spr2.x<b8_spr.x+100))
	// {robo_spr2.x=b8_spr.x+2;
	// robo_spr2.y=b8_spr.y-70;}
	// else if((b9_spr.x<robo_spr2.x-10)&&(robo_spr2.x<b9_spr.x+73))
	// {robo_spr2.y=b9_spr.y;}
	// else
	// {robo_spr2.y=718;}




firebase.database().ref("roboPos").on('value', function(data) {
 
var robox = [];
robox=data.val();
robo_spr.x=robox[0];
robo_spr.y=robox[1];

});
  firebase.database().ref("roboPos2").on('value', function(data) {
 
var robox = [];
robox=data.val();
robo_spr2.x=robox[0];
robo_spr2.y=robox[1];

});




	console.log(robo_spr.x,robo_spr.y,robo_spr2.x,robo_spr2.y);
	
stage.addChild(b7_spr,b1_spr,bitmapfire,bitmapBnuke,bitmapBacid,bitmapAngle,bitmapJump,bitmapPower,bitmapback,bitmapforward,b2_spr,b3_spr,b4_spr,b5_spr,b6_spr,b8_spr,b9_spr,robo_spr,robo_spr2);
	 healthb1 = new createjs.Shape();
healthb1.graphics.beginFill("red").drawRect(20,30,health1*4,30);
 healthb2 = new createjs.Shape();
healthb2.graphics.beginFill("red").drawRect(1150,30,health2*4,30);
 armourb1 = new createjs.Shape();
armourb1.graphics.beginFill("gold").drawRect(20,60,armour1*4,30);
 armourb2 = new createjs.Shape();
armourb2.graphics.beginFill("gold").drawRect(1390,60,armour2*4,30);
stage.addChild(healthb1,healthb2,armourb1,armourb2);
ht1 = new createjs.Text("Health-> "+health1.toString(), "25px Jokerman", "white");
		ht1.x = 20;
		ht1.y = 33;
ar1 = new createjs.Text("Armour-> "+armour1.toString(), "22px Comic Sans MS","skyblue");
		ar1.x = 20;
		ar1.y = 65;
ht2 = new createjs.Text("Health-> "+health2.toString(), "25px Jokerman", "white");
		ht2.x = 1390;
		ht2.y = 33;
ar2 = new createjs.Text("Armour-> "+armour2.toString(), "22px Comic Sans MS","skyblue");
		ar2.x = 1420;
		ar2.y = 65;
		stage.addChild(ht1,ar1,ht2,ar2);
	//,b2_spr,b3_spr,b4_spr,b5_spr,b6_spr,b7_spr,b8_spr,b9_spr);
	//stage.addChild(b1_spr,robo_spr);
var intersection = ndgmr.checkRectCollision(robo_spr,b1_spr);
createjs.Ticker.addEventListener("tick", stage);
	//createjs.Ticker.addEventListener("tick", tick);
	//document.onkeydown = keydownPressed.bind(this);
	//document.onkeyup = keyupPressed.bind(this);
}
var doo=0;
var num1=1;
var num2=1;
var num3=1;
var num4=1;
var num5=1;
var num6=1;
var num7=1;
var num8=1;
var num9=1;
var matphato0=0;
var matphato1=0;
var matphato2=0;
var matphato3=0;
var matphato4=0;
var matphato5=0;
var matphato6=0;
var matphato7=0;
var matphato8=0;

var hi = true;

var thai = true;
var fi2=true;
function tick()
{	
vel2=document.getElementById("power2").value;
	ang2=document.getElementById("angle2").value;
//robo_spr2.gotoAndPlay("idle");
input2[0]=Number(vel2);
	input2[1]=Number(ang2);
	firebase.database().ref("input2").set(input2);

	if(hi)
	checkni();

	if(thai)
	udau2();
rect1.alpha=0.4;
var tampx=robo_spr.x;
var tampy=robo_spr.y;
var intersection = ndgmr.checkRectCollision(robo_spr,b1_spr);
var intersection1 = ndgmr.checkRectCollision(robo_spr2,b1_spr);
var procolb1 = ndgmr.checkRectCollision(exp_bomb,b1_spr);
var procolb2 = ndgmr.checkRectCollision(exp_bomb,b2_spr);
var procolb3 = ndgmr.checkRectCollision(exp_bomb,b3_spr);
var procolb4 = ndgmr.checkRectCollision(exp_bomb,b4_spr);
var procolb5 = ndgmr.checkRectCollision(exp_bomb,b5_spr);
var procolb6 = ndgmr.checkRectCollision(exp_bomb,b6_spr);
var procolb7 = ndgmr.checkRectCollision(exp_bomb,b7_spr);
var procolb8 = ndgmr.checkRectCollision(exp_bomb,b8_spr);
var procolb9 = ndgmr.checkRectCollision(exp_bomb,b9_spr);
var dam1=ndgmr.checkPixelCollision(exp_bomb,robo_spr,0.2,true);
var dam2=ndgmr.checkPixelCollision(exp_bomb,robo_spr2,0.2,true);
if (intersection1)
{collide2=1;}
if (procolb1&&matphato0!=1)
{
//bombtj.setPaused(true);
if(num1!=1&&num1<8)
        {expl_spr.x=b1_spr.x+5;
        expl_spr.y=b1_spr.y+50;
        stage.addChild(expl_spr);
        expl_spr.gotoAndPlay("explode");}
          if(num1==2)
          b1_spr.y +=194;
          else if(num1==3)
          b1_spr.y +=119;
          else if(num1==4)
          b1_spr.y +=69;
          else if(num1==5)
          b1_spr.y +=53;
          else if(num1==6)
          {b1_spr.y +=59;}
			else if(num1==7)
          {b1_spr.y +=64;}
		  exp_bomb.gotoAndPlay("explode");
          b1_spr.gotoAndStop("break"+num1.toString());
		num1++;
		phato=1;
		matphato1=1;
		matphato2=1;
		matphato3=1;
		matphato4=1;
		matphato5=1;
		matphato6=1;
		matphato7=1;
		matphato8=1;
	rect1.alpha = 1;

}
else if(procolb2&&matphato1!=1)
{

if(num2!=1&&num2<8)
        {expl_spr.x=b2_spr.x+5;
        expl_spr.y=b2_spr.y-20;
        stage.addChild(expl_spr);
        expl_spr.gotoAndPlay("explode");}
          if(num2==2)
          b2_spr.y +=132;
          else if(num2==3)
          b2_spr.y +=71;
          else if(num2==4)
          b2_spr.y +=81;
          else if(num2==5)
          b2_spr.y +=80;
          else if(num2==6)
          {b2_spr.y +=55;}
		  else if(num1==7)
          {b1_spr.y +=61;}
		  exp_bomb.gotoAndPlay("explode");
          b2_spr.gotoAndStop("break"+num2.toString());
        num2++;
		phato=1;
		matphato0=1;
		matphato2=1;
		matphato3=1;
		matphato4=1;
		matphato5=1;
		matphato6=1;
		matphato7=1;
		matphato8=1;
		rect1.alpha = 1;


}

else if(procolb3&&matphato2!=1){
if(num3!=1&&num3<8)
        {expl_spr.x=b3_spr.x+5;
        expl_spr.y=b3_spr.y-25;
        stage.addChild(expl_spr);
        expl_spr.gotoAndPlay("explode");}
          if(num3==2)
          b3_spr.y +=26;
          else if(num3==3)
          b3_spr.y +=41;
          else if(num3==4)
          b3_spr.y +=33;
          else if(num3==5)
          b3_spr.y +=33;
          else if(num3==6)
          {b3_spr.y +=40;}
		  else if(num3==7)
          {b3_spr.y +=58;}
		  exp_bomb.gotoAndPlay("explode");
          b3_spr.gotoAndStop("break"+num3.toString());
        num3++;
		phato=1;
		matphato0=1;
		matphato1=1;
		matphato3=1;
		matphato4=1;
		matphato5=1;
		matphato6=1;
		matphato7=1;
		matphato8=1;
	rect1.alpha = 1;
}

else if(procolb4&&matphato3!=1){
if(num4!=1&&num4<8)
        {expl_spr.x=b4_spr.x+5;
        expl_spr.y=b4_spr.y-25;
        stage.addChild(expl_spr);
        expl_spr.gotoAndPlay("explode");}
          if(num4==2)
          b4_spr.y +=63;
          else if(num4==3)
          b4_spr.y +=46;
          else if(num4==4)
          b4_spr.y +=29;
          else if(num4==5)
          b4_spr.y +=34;
          else if(num4==6)
          {b4_spr.y +=84;}
		  else if(num4==7)
          {b4_spr.y +=88;}
		  exp_bomb.gotoAndPlay("explode");
          b4_spr.gotoAndStop("break"+num4.toString());
        num4++;
		phato=1;
		matphato0=1;
		matphato1=1;
		matphato2=1;
		matphato4=1;
		matphato5=1;
		matphato6=1;
		matphato7=1;
		matphato8=1;
	rect1.alpha = 1;
}

else if(procolb5&&matphato4!=1){
if(num5!=1&&num5<8)
        {expl_spr.x=b5_spr.x;
        expl_spr.y=b5_spr.y-20;
        stage.addChild(expl_spr);
        expl_spr.gotoAndPlay("explode");}
          if(num5==2)
          b5_spr.y +=31;
          else if(num5==3)
          b5_spr.y +=46;
          else if(num5==4)
          b5_spr.y +=12;
          else if(num5==5)
          b5_spr.y +=39;
          else if(num5==6)
          {b5_spr.y +=37;}
		  else if(num5==7)
          {b5_spr.y +=56;}
		  exp_bomb.gotoAndPlay("explode");
          b5_spr.gotoAndStop("break"+num5.toString());
        num5++;
		phato=1;
		matphato0=1;
		matphato1=1;
		matphato2=1;
		matphato3=1;
		matphato5=1;
		matphato6=1;
		matphato7=1;
		matphato8=1;
	rect1.alpha = 1;
}


else if(procolb6&&matphato5!=1){
if(num6!=1&&num6<8)
        {expl_spr.x=b6_spr.x;
        expl_spr.y=b6_spr.y-15;
        stage.addChild(expl_spr);
        expl_spr.gotoAndPlay("explode");}
          if(num6==2)
          b6_spr.y +=16;
          else if(num6==3)
          b6_spr.y +=36;
          else if(num6==4)
          b6_spr.y +=42;
          else if(num6==5)
          b6_spr.y +=73;
          else if(num6==6)
          {b6_spr.y +=82;}
		  exp_bomb.gotoAndPlay("explode");
          b6_spr.gotoAndStop("break"+num6.toString());
        num6++;
		phato=1;
		matphato0=1;
		matphato1=1;
		matphato2=1;
		matphato3=1;
		matphato4=1;
		matphato6=1;
		matphato7=1;
		matphato8=1;
	rect1.alpha = 1;
}

else if(procolb7&&matphato6!=1){
if(num7!=1&&num7<8)
        {expl_spr.x=b7_spr.x;
        expl_spr.y=b7_spr.y-20;
        stage.addChild(expl_spr);
        expl_spr.gotoAndPlay("explode");}
          if(num7==2)
          b7_spr.y +=109;
          else if(num7==3)
          b7_spr.y +=58;
          else if(num7==4)
          b7_spr.y +=43;
          else if(num7==5)
          b7_spr.y +=36;
          else if(num7==6)
          {b7_spr.y +=31;}
		  else if(num7==7)
          {b7_spr.y +=44;}
		  exp_bomb.gotoAndPlay("explode");
          b7_spr.gotoAndStop("break"+num7.toString());
        num7++;
		phato=1;
		matphato0=1;
		matphato1=1;
		matphato2=1;
		matphato3=1;
		matphato4=1;
		matphato5=1;
		matphato7=1
		matphato8=1;
	rect1.alpha = 1;
}


else if(procolb8&&matphato7!=1)
{
if(num8!=1&&num8<8)
        {expl_spr.x=b8_spr.x-5;
        expl_spr.y=b8_spr.y-15;
        stage.addChild(expl_spr);
        expl_spr.gotoAndPlay("explode");}
          if(num8==2)
          b8_spr.y +=30;
          else if(num8==3)
          b8_spr.y +=28;
          else if(num8==4)
          b8_spr.y +=41;
          else if(num8==5)
          b8_spr.y +=30;
          else if(num8==6)
          {b8_spr.y +=47;}
		   else if(num8==7)
          {b8_spr.y +=37;}
		  exp_bomb.gotoAndPlay("explode");
          b8_spr.gotoAndStop("break"+num8.toString());
        num8++;
		phato=1;
		matphato0=1;
		matphato1=1;
		matphato2=1;
		matphato3=1;
		matphato4=1;
		matphato5=1;
		matphato6=1;
		matphato8=1;
	rect1.alpha = 1;

}

else if(procolb9&&matphato8!=1){
if(num9!=1&&num9<8)
        {expl_spr.x=b9_spr.x-25;
        expl_spr.y=b9_spr.y-20;
        stage.addChild(expl_spr);
        expl_spr.gotoAndPlay("explode");}
          if(num9==2)
          b9_spr.y +=71;
          else if(num9==3)
          b9_spr.y +=36;
          else if(num9==4)
          b9_spr.y +=37;
          else if(num9==5)
          b9_spr.y +=29;
          else if(num9==6)
          {b9_spr.y +=39;}
		  else if(num9==7)
          {b9_spr.y +=72;}  
		  exp_bomb.gotoAndPlay("explode");
          b9_spr.gotoAndStop("break"+num9.toString());
        num9++;
		phato=1;
		matphato0=1;
		matphato1=1;
		matphato2=1;
		matphato3=1;
		matphato4=1;
		matphato5=1;
		matphato6=1;
		matphato7=1;
	rect1.alpha = 1;
}
if(dam1&&(turn==0))
{health1 -= (100-armour1)*20/100;
stage.removeChild(healthb1,armourb1,ht1,ar1);
healthb1 = new createjs.Shape();
healthb1.graphics.beginFill("red").drawRect(20,30,health1*4,30);
 armourb1 = new createjs.Shape();
armourb1.graphics.beginFill("gold").drawRect(20,60,armour1*4,30);
stage.addChild(healthb1,armourb1);
ht1 = new createjs.Text("Health-> "+health1.toString(), "25px Jokerman", "white");
		ht1.x = 20;
		ht1.y = 33;
ar1 = new createjs.Text("Armour-> "+armour1.toString(), "22px Comic Sans MS","skyblue");
		ar1.x = 20;
		ar1.y = 65;
		stage.addChild(ht1,ar1);
}
if(dam2&&(turn==1))
{health2 -= (100-armour2)*20/100;
stage.removeChild(healthb2,armourb2,ht2,ar2);
 healthb2 = new createjs.Shape();
healthb2.graphics.beginFill("red").drawRect(1150,30,health2*4,30);
 armourb2 = new createjs.Shape();
armourb2.graphics.beginFill("gold").drawRect(1390,60,armour2*4,30);
stage.addChild(healthb2,armourb2);

ht2 = new createjs.Text("Health-> "+health2.toString(), "25px Jokerman", "white");
		ht2.x = 1390;
		ht2.y = 33;
ar2 = new createjs.Text("Armour-> "+armour2.toString(), "22px Comic Sans MS","skyblue");
		ar2.x = 1420;
		ar2.y = 65;
		stage.addChild(ht2,ar2);
}

			stage.update();
}
//-------------------------------------------------------------



function checkni(){

	hi = false;
	firebase.database().ref("animae").on('value', function(data) {
 
				var r = data.val();
				if(r==1){
					clkfor();
				}

				});
	firebase.database().ref("backan").on('value', function(data) {
 
				var lop = data.val();
				if(lop==1){
					clkbck();
				}

				});

	firebase.database().ref("jump1").on('value', function(data) {
 
				var p = data.val();
				if(p==1){
					clkj();
				}

	 			});

	

}

function udau2(){

	thai = false;
	firebase.database().ref("fire1").on('value', function(data) {
 
				var qa = data.val();
				if(qa==1){
					console.log(6);
				//	if(fi2=true){
					
				fired();
				
}
				});

	firebase.database().ref("ac1").on('value', function(data) {
 
				var pp = data.val();
				if(pp==1){
					firebase.database().ref("ac1").set(0);
					clkAc();
				}

	 			});
	firebase.database().ref("nu1").on('value', function(data) {
 
				var pi = data.val();
				if(pi==1){
					console.log(2345);
					firebase.database().ref("nu1").set(0);
					clkNu();
				}

	 			});

}

function clickAc()
{
{
createjs.Tween.get(robo_spr2, { bounce: true}, true)
			.wait(100)
			.call(function() { robo_spr2.gotoAndPlay("shootup"); })
			//.to({x: robo_spr2.x, y: robo_spr2.y},2000);
			createjs.Tween.get(bitmapacid,{bounce: true})
			.wait(100)
			.call(function(){
			bitmapacid.x=robo_spr2.x-55;
			bitmapacid.y=robo_spr2.y+20;
			stage.addChild(bitmapacid);
			bitmapacid.gotoAndPlay("fly");})
			.to({guide: {path: [robo_spr2.x-55,robo_spr2.y+20, robo_spr2.x-55-vel2*vel2*Math.sin(2*ang2*Math.PI/180)/(2*4.5),robo_spr2.y+20-vel2*vel2*Math.sin(ang2*Math.PI/180)*Math.sin(ang2*Math.PI/180)/(2*4.5), (robo_spr2.x-55-vel2*vel2* Math.sin(2*ang2*Math.PI/180)/4.5)-(800-robo_spr2.y)*Math.tan(ang2*Math.PI/180),780]}}, 2200).call(function(){console.log(((robo_spr2.x-55-vel2*vel2* Math.sin(2*ang2*Math.PI/180)/4.5))/2,robo_spr2.y+20-vel2*vel2*Math.sin(ang2*Math.PI/180)*Math.sin(ang2*Math.PI/180)/(2*4.5), (robo_spr2.x-55-vel2*vel2* Math.sin(2*ang2*Math.PI/180)/4.5)-(800-robo_spr2.y)*Math.tan(ang2*Math.PI/180),780)
			if(phato==0)
			{
			bitmapgas.x=(robo_spr2.x-55-vel2*vel2* Math.sin(2*ang2*Math.PI/180)/4.5)-(800-robo_spr2.y)*Math.tan((ang2)*Math.PI/180);
			bitmapgas.y=720;
			stage.removeChild(bitmapacid);
			stage.addChild(bitmapgas);
			bitmapgas.gotoAndPlay("exp");
			}
			else
			phato=0;});
			createjs.Tween.get(robo_spr2, { bounce: true}, true)
			.wait(100)
			.call(function() { robo_spr2.gotoAndPlay("shootdown"); })
			.wait(100)
			.call(function() { robo_spr2.gotoAndPlay("idle"); });
			matphato0=0;
			matphato1=0;
			matphato2=0;
			matphato3=0;
			matphato4=0;
			matphato5=0;
			matphato6=0;
			matphato7=0;
			matphato8=0;
			turn=0;
			firebase.database().ref("ac2").set(1);}
}
function clickNu()
{
{
createjs.Tween.get(robo_spr2, { bounce: true}, true)
			.wait(100)
			.call(function() { robo_spr2.gotoAndPlay("shootup"); })
			//.to({x: robo_spr2.x, y: robo_spr2.y},2000);
			createjs.Tween.get(bitmapnuke,{bounce: true})
			.wait(100)
			.call(function(){
			bitmapnuke.x=robo_spr2.x-55;
			bitmapnuke.y=robo_spr2.y+20;
			stage.addChild(bitmapnuke);
			bitmapnuke.gotoAndPlay("fly_h");})
			.to({guide: {path: [robo_spr2.x-55,robo_spr2.y+20, robo_spr2.x-55-vel2*vel2*Math.sin(2*ang2*Math.PI/180)/(2*4.5),robo_spr2.y+20-vel2*vel2*Math.sin(ang2*Math.PI/180)*Math.sin(ang2*Math.PI/180)/(2*4.5), (robo_spr2.x-55-vel2*vel2* Math.sin(2*ang2*Math.PI/180)/4.5)-(800-robo_spr2.y)*Math.tan(ang2*Math.PI/180),780]}}, 2200).call(function(){console.log(((robo_spr2.x-55-vel2*vel2* Math.sin(2*ang2*Math.PI/180)/4.5))/2,robo_spr2.y+20-vel2*vel2*Math.sin(ang2*Math.PI/180)*Math.sin(ang2*Math.PI/180)/(2*4.5), (robo_spr2.x-55-vel2*vel2* Math.sin(2*ang2*Math.PI/180)/4.5)-(800-robo_spr2.y)*Math.tan(ang2*Math.PI/180),780)
			if(phato==0)
			{
			bitmapNE.x=(robo_spr2.x-55-vel2*vel2* Math.sin(2*ang2*Math.PI/180)/4.5)-(800-robo_spr2.y)*Math.tan((ang2)*Math.PI/180);
			bitmapNE.y=720;
			stage.removeChild(bitmapnuke);
			stage.addChild(bitmapNE);
			bitmapNE.gotoAndPlay("exp");
			}
			else
			phato=0;});
			createjs.Tween.get(robo_spr2, { bounce: true}, true)
			.wait(100)
			.call(function() { robo_spr2.gotoAndPlay("shootdown"); })
			.wait(100)
			.call(function() { robo_spr2.gotoAndPlay("idle"); });
			matphato0=0;
			matphato1=0;
			matphato2=0;
			matphato3=0;
			matphato4=0;
			matphato5=0;
			matphato6=0;
			matphato7=0;
			matphato8=0;
			turn=0;
firebase.database().ref("nu2").set(1);
		}
}

function clkfor()
{			
			
			//if(turn==0)
		//	{if(collide1!=1)
			{
				//console.log(1);
				createjs.Tween.get(robo_spr, { bounce: true}, true)
			.wait(100)
			.call(function() {robo_spr.gotoAndPlay("run");//console.log(2);
			 })
			.to({x: robo_spr.x+50, y: robo_spr.y}, 1000)
			.call(function() {
			//	console.log(3); 
				firebase.database().ref("animae").set(0);
				robo_spr.gotoAndPlay("idle");
					//f=true;
		});

		
		

		}}
function clkbck()
{			
			//if(turn==0)
		//	{if(collide1!=1)
			{
				console.log(1);
				createjs.Tween.get(robo_spr, { bounce: true}, true)
			.wait(100)
			.call(function() {robo_spr.gotoAndPlay("back");console.log(2); })
			.to({x: robo_spr.x-50, y: robo_spr.y}, 1000)
			.call(function() {
				console.log(3); 
				firebase.database().ref("backan").set(0);
				robo_spr.gotoAndPlay("idle");
				//	turn=1;
		});

		}
			
		}	



function clkAc()
{
//if(turn==0)
{
		firebase.database().ref("input1").on('value', function(data) {
 				var fireIn1=[];
				 fireIn1 = data.val();
				 vel2 = fireIn1[0];
				 ang2 = fireIn1[1];
//console.log(vel1 + " " + ang1);	
			//	console.log(vel1 + " " + ang1);	
		
});




	createjs.Tween.get(robo_spr, { bounce: true}, true)
			.wait(100)
			.call(function() {

				//firebase.database().ref("ac1").set(0);
			 robo_spr.gotoAndPlay("shootup"); })
			//.to({x: robo_spr.x, y: robo_spr.y},2000);
			createjs.Tween.get(bitmapacid,{bounce: true})
			.wait(100)
			.call(function(){
			bitmapacid.x=robo_spr.x+55;
			bitmapacid.y=robo_spr.y+20;
			stage.addChild(bitmapacid);
			bitmapacid.gotoAndPlay("fly");
firebase.database().ref("ac1").set(0);
		})
		.to({guide: {path: [robo_spr.x+55,robo_spr.y+20, ((robo_spr.x+55+vel2*vel2* Math.sin(2*ang2*Math.PI/180)/4.5)+(800-robo_spr.y)*Math.tan((ang2)*Math.PI/180))/2,robo_spr.y-50-vel2*vel2*Math.sin(ang2*Math.PI/180)*Math.sin(ang2*Math.PI/180)/(2*4.5), (robo_spr.x+55+vel2*vel2* Math.sin(2*ang2*Math.PI/180)/4.5)+(800-robo_spr.y)*Math.tan((ang2)*Math.PI/180),780]}}, 2200)
			//.call(function(){while})
			.call(function(){if(phato==0)
			{
			bitmapgas.x=(robo_spr.x+55+vel2*vel2* Math.sin(2*ang2*Math.PI/180)/4.5)+(800-robo_spr.y)*Math.tan((ang2)*Math.PI/180);
			bitmapgas.y=720;
			stage.removeChild(bitmapacid);
			stage.addChild(bitmapgas);
			bitmapgas.gotoAndPlay("exp");
			firebase.database().ref("ac1").set(0);
			}
			else
			phato=0;});
			createjs.Tween.get(robo_spr, { bounce: true}, true)
			.wait(100)
			.call(function() { robo_spr.gotoAndPlay("shootdown"
				); 

		firebase.database().ref("ac1").set(0);})
			.wait(100)
			.call(function() { robo_spr.gotoAndPlay("idle"); });
			matphato0=0;
			matphato1=0;
			matphato2=0;
			matphato3=0;
			matphato4=0;
			matphato5=0;
			matphato6=0;
			matphato7=0;
			matphato8=0;
			//turn=1;}
			//turn=0;}

firebase.database().ref("ac1").set(0);			
}
}


function clkNu()
{
//if(turn==0)

{

		firebase.database().ref("input1").on('value', function(data) {
 				var fireIn1=[];
				 fireIn1 = data.val();
				 vel2 = fireIn1[0];
				 ang2 = fireIn1[1];
//console.log(vel1 + " " + ang1);	
			//	console.log(vel1 + " " + ang1);	
		
});



	createjs.Tween.get(robo_spr, { bounce: true},true)
			.wait(100)
			.call(function() { robo_spr.gotoAndPlay("shootup"); })
			//.to({x: robo_spr.x, y: robo_spr.y},2000);
			createjs.Tween.get(bitmapnuke,{bounce: true})
			.wait(100)
			.call(function(){
			bitmapnuke.x=robo_spr.x+55;
			bitmapnuke.y=robo_spr.y+20;
			stage.addChild(bitmapnuke);
			bitmapnuke.gotoAndPlay("fly");
				firebase.database().ref("nu1").set(0);
				

		})
			.to({guide: {path: [robo_spr.x+55,robo_spr.y+20, ((robo_spr.x+55+vel2*vel2* Math.sin(2*ang2*Math.PI/180)/4.5)+(800-robo_spr.y)*Math.tan((ang2)*Math.PI/180))/2,robo_spr.y-50-vel2*vel2*Math.sin(ang2*Math.PI/180)*Math.sin(ang2*Math.PI/180)/(2*4.5), (robo_spr.x+55+vel2*vel2* Math.sin(2*ang2*Math.PI/180)/4.5)+(800-robo_spr.y)*Math.tan((ang2)*Math.PI/180),780]}}, 2200)
			//.call(function(){while})
			.call(function(){if(phato==0)
			{
			bitmapNE.x=(robo_spr.x+55+vel2*vel2* Math.sin(2*ang2*Math.PI/180)/4.5)+(800-robo_spr.y)*Math.tan((ang2)*Math.PI/180);
			bitmapNE.y=720;
			stage.removeChild(bitmapnuke);
			stage.addChild(bitmapNE);
			bitmapNE.gotoAndPlay("exp");
			firebase.database().ref("nu1").set(0);

			}
			else
			phato=0;});
			createjs.Tween.get(robo_spr, { bounce: true}, true)
			.wait(100)
			.call(function() { robo_spr.gotoAndPlay("shootdown"); })
			.wait(100)
			.call(function() { robo_spr.gotoAndPlay("idle"); });
			matphato0=0;
			matphato1=0;
			matphato2=0;
			matphato3=0;
			matphato4=0;
			matphato5=0;
			matphato6=0;
			matphato7=0;
			matphato8=0;
			turn=1;

firebase.database().ref("nu1").set(0);
		}
}

//-------------------------------------------------



function clickf()
{//if(turn==0)

	console.log(vel2+ " " + ang2);
{

	thai = true;
createjs.Tween.get(robo_spr2, { bounce: true}, true)
			.wait(100)
			.call(function() { robo_spr2.gotoAndPlay("shootup"); })
			.to({x: robo_spr2.x, y: robo_spr2.y},2000);
			bombtj=createjs.Tween.get(exp_bomb,{bounce: true})
			.wait(100)
			.call(function(){
			exp_bomb.x=robo_spr2.x-55;
			exp_bomb.y=robo_spr2.y+20;
			stage.addChild(exp_bomb);
			exp_bomb.gotoAndPlay("burn");})
			.to({guide: {path: [robo_spr2.x-55,robo_spr2.y+20, robo_spr2.x-55-vel2*vel2*Math.sin(2*ang2*Math.PI/180)/(2*4.5),robo_spr2.y+20-vel2*vel2*Math.sin(ang2*Math.PI/180)*Math.sin(ang2*Math.PI/180)/(2*4.5), (robo_spr2.x-55-vel2*vel2* Math.sin(2*ang2*Math.PI/180)/4.5)-(800-robo_spr2.y)*Math.tan(ang2*Math.PI/180),780]}}, 2200)
			//.call(function(){while})
			.call(function(){
			if(phato==0)
			exp_bomb.gotoAndPlay("explode");
			else
			phato=0;});
			createjs.Tween.get(robo_spr2, { bounce: true}, true)
			.wait(100)
			.call(function() { robo_spr2.gotoAndPlay("shootdown"); })
			.wait(100)
			.call(function() { robo_spr2.gotoAndPlay("idle"); });
			matphato0=0;
			matphato1=0;
			matphato2=0;
			matphato3=0;
			matphato4=0;
			matphato5=0;
			matphato6=0;
			matphato7=0;
			matphato8=0;

			firebase.database().ref("fire2").set(1);
		//	turn=0;}
}

}

function clickfor()
{
		//	if(turn==0)
			console.log("working" + collide2);
			{if(collide2!=1)
			{createjs.Tween.get(robo_spr2, { bounce: true}, true)
			.wait(100)
			.call(function() {robo_spr2.gotoAndPlay("back"); })
			.to({x: robo_spr2.x+50, y: robo_spr2.y}, 1000)
			.call(function() { 
				robo_spr2.gotoAndPlay("idle");

					roboPos2[0]=robo_spr2.x;
					roboPos2[1]=robo_spr2.y;
					
		firebase.database().ref("animae2").set(1);
					robo_spr2.gotoAndPlay("idle");
			//		turn=1;
		});

		}
			else
			robo_spr2.gotoAndPlay("idle");
			}
}
function clickb()
{
		console.log("working" + collide2);
			{if(collide2!=1)
			{createjs.Tween.get(robo_spr2, { bounce: true}, true)
			.wait(100)
			.call(function() {robo_spr2.gotoAndPlay("run"); })
			.to({x: robo_spr2.x-50, y: robo_spr2.y}, 1000)
			.call(function() { 
				robo_spr2.gotoAndPlay("idle");
				console.log("cha")
					roboPos2[0]=robo_spr2.x;
					roboPos2[1]=robo_spr2.y;
					
		firebase.database().ref("backan2").set(1);
					robo_spr2.gotoAndPlay("idle");
			//		turn=1;
		});

		}
			else
			robo_spr2.gotoAndPlay("idle");
			}
}
function clickj()
{

	{createjs.Tween.get(robo_spr2, { bounce: true}, true)
			.wait(100)
			.call(function() { robo_spr2.gotoAndPlay("jump_up"); })
			.to({x: robo_spr2.x, y: robo_spr2.y-85}, 1000)
			.wait(100)
			.call(function() { robo_spr2.gotoAndPlay("jump_down"); })
			.to({x: robo_spr2.x, y: robo_spr2.y}, 1000)
			.call(function() { robo_spr2.gotoAndPlay("idle"); });
//			turn=0;
	}firebase.database().ref("jump2").set(1);
			}
function clkj()
{

	{createjs.Tween.get(robo_spr, { bounce: true}, true)
			.wait(100)
			.call(function() { robo_spr.gotoAndPlay("jump_up"); })
			.to({x: robo_spr.x, y: robo_spr.y-85}, 1000)
			.wait(100)
			.call(function() { robo_spr.gotoAndPlay("jump_down"); })
			.to({x: robo_spr.x, y: robo_spr.y}, 1000)
			.call(function() { robo_spr.gotoAndPlay("idle"); });
//			turn=0;
	}firebase.database().ref("jump1").set(0);
			}



function fired()


{

	console.log("ghus vgya");

			firebase.database().ref("input1").on('value', function(data) {
 				var fireIn1=[];
				 fireIn1 = data.val();
				 vel2 = fireIn1[0];
				 ang2 = fireIn1[1];
//console.log(vel1 + " " + ang1);	
			//	console.log(vel1 + " " + ang1);	
		
});

			//console.log("freede chla" + vi + " " + ani);
//if(turn==0)

	//  vi =  Number(vel1);
	//  ani =  Number(ang1);
	// console.log(vi + ani);
		

			//console.log(vi + ani);
	createjs.Tween.get(robo_spr, { bounce: true}, true)
			.wait(100)
			.call(function() { robo_spr.gotoAndPlay("shootup"); })
			.to({x: robo_spr.x, y: robo_spr.y},2000);
			bombtj=createjs.Tween.get(exp_bomb,{bounce: true})
			.wait(100)
			.call(function(){
			exp_bomb.x=robo_spr.x+55;
			exp_bomb.y=robo_spr.y+20;
			stage.addChild(exp_bomb);
			exp_bomb.gotoAndPlay("burn");})
			.to({guide: {path: [robo_spr.x+55,robo_spr.y+20, robo_spr.x+55+vel2*vel2*Math.sin(2*ang2*Math.PI/180)/(2*4.5),robo_spr.y+20-vel2*vel2*Math.sin(ang2*Math.PI/180)*Math.sin(ang2*Math.PI/180)/(2*4.5), robo_spr.x+55+vel2*vel2* Math.sin(2*ang2*Math.PI/180)/4.5,robo_spr.y+20]}}, 3000)
			//.call(function(){while})
			.call(function(){if(phato==0)
			exp_bomb.gotoAndPlay("explode");
			else
			phato=0;});
			createjs.Tween.get(robo_spr, { bounce: true}, true)
			.wait(100)
			.call(function() { robo_spr.gotoAndPlay("shootdown"); })
			.wait(100)
		
			.call(function() { robo_spr.gotoAndPlay("idle"); });
		firebase.database().ref("fire1").set(0);

		
	}			
    </script>
  
</html>
